@using LinuxPackages.Web.Mvc.ViewModels.Packages;

@{ 
    ViewBag.Title = "All packages";
}

@(Html.Kendo()
    .Grid<ListedPackageViewModel>()
    .Name("AllPackagesGrid")
    .Columns(columns =>
    {
        columns.Bound(p => p.Id).ClientTemplate(
            "<a href='" +
                Url.Action("Details", "Packages") +
                "/#= Id #'" +
            ">#= Name #</a>"
        ).Title("Name");
        columns.Bound(c => string.Format("{0} {1}", c.Distribution.Name, c.Distribution.Version));
        columns.Bound(c => c.Repository.Name);
        columns.Bound(c => c.Architecture.Name);
        columns.Bound(c => c.Rating);
        columns.Bound(c => c.UploadedOn).Format("{0:dd/MM/yyyy}");
    })
    .DataSource(data =>
        data.Ajax().Read(r => r.Action("GetPackages", "Packages")))
    .Filterable()
    .Sortable()
    .Pageable()
    .Groupable())